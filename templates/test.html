<!doctype html>
<html>

<head>	

	<link rel="stylesheet" href="/static/css/reset.css" type="text/css" />
	<link rel="stylesheet" href="/static/css/style.css" type="text/css" />

	<style type="text/css">
		div.edit-visible {
		    display: none;
		}
		div.editing .text {
		    display: none;
		}
		div.editing .edit-visible {
		    display: block;
		}
		div.fork {
		    display: inline;
		}
		div.text {
		    display: inline;
		}
		div.revisions.noimprove {
		    display: none;
		}
	</style>

</head>


<body>


	<div id="header-bar">
		<div id="header">
			<a href="#" id="logo"><img src="/static/images/logo.png" /></a>
			<div id="nav">
				<ul>
					<li id="view-consensus" class="current"><a href="#">Current Consensus</a></li>
					<li id="view-everything"><a href="#">Everything</a></li>
				</ul>
			</div>
		</div>
	</div>
	
	
	<div id="main">
		<div id="new" style="
			padding-left: 200px;
		    padding-top: 19px;
		    position: fixed;
		    text-align: center;
		    top: 0;
		    width: 100%;">
			<input class="new-text" type="text" style="width:300px;"></input>
			<button class="done">Save</button>
			<button class="refresh">Refresh</button>
	    </div>
		<div id="ideas"></div>
	</div>
	
	
	<!-- //////////////////////////////////////////////////////////////// -->
	
	
	<script type="text/template" id="idea-template">
		<div class="idea-wrap">
		<div class="idea">
			<a href="#" class="edit-count"><strong><%= Math.floor(Math.random()*100) %></strong><br />Edits</a>
			<div class="idea-content">
				<div class="top_revision"></div>
				<p class="idea-text"><a href="#" class="top-text"></a></p>
				<p class="categories">
					<%

					var strings = ["Finance", "Education", "Human Rights", "Environment"];
					var rando = Math.floor(Math.random()*2);
					
					for ( i=0 ; i<(rando+1); i=i+1 ) {
						if (i < rando) { print ( "<a href='#'>" + strings[Math.floor(Math.random() * strings.length)] + "</a>, " ); }
						else 		   { print ( "<a href='#'>" + strings[Math.floor(Math.random() * strings.length)] + "</a>" );	}
					}
					
					%>
				</p>
			</div>
			<div class="actions">
				<a href="#" class="improve">View Idea</a>
			</div>
			<div style="clear:both"></div>
		</div>
		</div>
		<div class="revisions noimprove"></div>
	
	</script>
	
	
	<script type="text/template" id="revision-template">
	
		<div class="text"><%= text %></div>
		<div class="fork"> - Fork</div>
		<div class="edit-visible">
			<input class="edit-text" type="text" value="<%= text %>"></input>
			<div class="done">Save</div>
		</div>
		<div><%= up %> <%= down %></div>
		
	</script>
	
	
	<script type="text/javascript" src="/static/scripts/underscore-min.js"></script>
	<script type="text/javascript" src="/static/scripts/underscore.string.min.js"></script>
	<script type="text/javascript" src="/static/scripts/zepto.min.js"></script>
	<script type="text/javascript" src="/static/scripts/json2.js"></script>
	<script type="text/javascript" src="/static/scripts/backbone-min.js"></script>
	<script type="text/javascript" src="/static/scripts/main.js"> </script>
	<script type="text/javascript">window.revisions.reset({{ data|tojson|safe }});</script>
	
	
	<!-- //////////////////////////////////////////////////////////////// -->


</body>
</html>
